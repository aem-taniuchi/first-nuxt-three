(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{264:function(e,n,t){var content=t(278);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(104).default)("279a2b9a",content,!0,{sourceMap:!1})},277:function(e,n,t){"use strict";t(264)},278:function(e,n,t){var o=t(103)(!1);o.push([e.i,"\n.content[data-v-424258b2] {\n\twidth: 100%;\n  height: 100vh;\n  overflow: hidden;\n  font-size: 14px;\n  font-family: sans-serif;\n}\n#world[data-v-424258b2] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n.device-orien-modal[data-v-424258b2] {\n  z-index: 1;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.7);\n}\n.device-orien-modal-inner[data-v-424258b2] {\n  width: 90%;\n  max-width: 350px;\n  box-sizing: border-box;\n  height: auto;\n  padding: 1.3rem;\n  margin: auto;\n  background: white;\n  display: flex;\n  flex-direction: column;\n}\n.device-orien-modal-button[data-v-424258b2] {\n  margin: 1rem auto auto;\n  padding: 0.8rem 1.3rem;\n  background: black;\n  color: white;\n  width: 130px;\n}\n.is-hidden[data-v-424258b2] {\n  display: none;\n}\n.canvas[data-v-424258b2] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n.camera[data-v-424258b2] {\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n",""]),e.exports=o},301:function(e,n,t){"use strict";t.r(n);var o=t(131),r=t(132),c=t(260),d=(t(19),t(270),t(266)),l=t(272),h=t(273),v=t(262);function f(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=Object(v.a)(e);if(n){var r=Object(v.a)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return Object(h.a)(this,t)}}var w=new c.l(0,0,1),m=new c.b,O=new c.j,x=new c.j(-Math.sqrt(.5),0,0,Math.sqrt(.5)),j={type:"change"},y=function(e){Object(l.a)(t,e);var n=f(t);function t(object){var e;Object(o.a)(this,t),e=n.call(this),!1===window.isSecureContext&&console.error("THREE.DeviceOrientationControls: DeviceOrientationEvent is only available in secure contexts (https)");var r=Object(d.a)(e),l=new c.j;e.object=object,e.object.rotation.reorder("YXZ"),e.enabled=!0,e.deviceOrientation={},e.screenOrientation=0,e.alphaOffset=0;var h=function(e){r.deviceOrientation=e},v=function(){r.screenOrientation=window.orientation||0};return e.connect=function(){v(),void 0!==window.DeviceOrientationEvent&&"function"==typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",v),window.addEventListener("deviceorientation",h))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",v),window.addEventListener("deviceorientation",h)),r.enabled=!0},e.disconnect=function(){window.removeEventListener("orientationchange",v),window.removeEventListener("deviceorientation",h),r.enabled=!1},e.update=function(){if(!1!==r.enabled){var e=r.deviceOrientation;if(e){var n=e.alpha?c.d.degToRad(e.alpha)+r.alphaOffset:0,t=e.beta?c.d.degToRad(e.beta):0,o=e.gamma?c.d.degToRad(e.gamma):0,d=r.screenOrientation?c.d.degToRad(r.screenOrientation):0;!function(e,n,t,o,r){m.set(t,n,-o,"YXZ"),e.setFromEuler(m),e.multiply(x),e.multiply(O.setFromAxisAngle(w,-r))}(r.object.quaternion,n,t,o,d),8*(1-l.dot(r.object.quaternion))>1e-6&&(l.copy(r.object.quaternion),r.dispatchEvent(j))}}},e.dispose=function(){r.disconnect()},e.connect(),e}return Object(r.a)(t)}(c.c),k=function(){function e(n){Object(o.a)(this,e),this.scene=null,this.camera=null,this.renderer=null,this.object=null,this.controls=null,this.size={windowW:null,windowH:null},this.rotationX=0,this.rotationY=0,this.props=n,this.init(this.props.$canvas)}return Object(r.a)(e,[{key:"init",value:function(e){this.size={windowW:window.innerWidth,windowH:window.innerHeight},this.setScene(),this.setCamera(),this.setObject(),this.setRenderer(e)}},{key:"setScene",value:function(){this.scene=new c.k}},{key:"setCamera",value:function(){this.camera=new c.i(45,this.size.windowW/this.size.windowH,.1,30),this.camera.position.set(0,0,5),this.camera.lookAt(0,0,0),this.scene.add(this.camera),this.controls=new y(this.camera,!0)}},{key:"setObject",value:function(){var e=new c.a(1,1,1),n=new c.g;this.object=new c.e(e,n),this.object.position.set(0,0,0),this.scene.add(this.object)}},{key:"setRenderer",value:function(e){var n=this;this.renderer=new c.m({canvas:e}),console.log(e),this.renderer.setClearColor(255,1),console.log(this.size.windowW),this.renderer.setSize(this.size.windowW,this.size.windowH),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setAnimationLoop((function(){n.render()}))}},{key:"render",value:function(){this.object.rotation.x+=.01,this.object.rotation.y+=.01,this.controls.update(),this.renderer.render(this.scene,this.camera)}}]),e}(),E={name:"artwork2",data:function(){return{}},computed:{},created:function(){},mounted:function(){this.artworkGL=new k({$canvas:this.$refs.canvas,$modal:this.$refs.modal,$video:this.$refs.video})},destroyed:function(){},methods:{}},R=(t(277),t(43)),component=Object(R.a)(E,(function(){var e=this._self._c;return e("div",{staticClass:"content"},[e("canvas",{ref:"canvas",attrs:{id:"world"}}),e("video",{ref:"video",staticClass:"video",attrs:{id:"video",src:"",playsinline:""}}),e("div",{ref:"modal",staticClass:"device-orien-modal is-hidden",attrs:{id:"device-orien-modal"}},[this._m(0)])])}),[function(){var e=this,n=e._self._c;return n("div",{staticClass:"device-orien-modal-inner"},[n("p",[e._v("このページでは端末の向きと方向を取得します。"),n("br"),e._v("次に表示されるポップアップに従って「許可」を選択してください。")]),n("button",{staticClass:"device-orien-modal-button",attrs:{id:"device-orien-modal-button"}},[e._v("OK")])])}],!1,null,"424258b2",null);n.default=component.exports}}]);